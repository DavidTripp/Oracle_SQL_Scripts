SELECT NULL TABLESPACE_NAME, NULL OWNER, NULL SEGMENT_NAME, NULL SEGMENT_TYPE FROM DUAL WHERE 1 = 0
UNION ALL (
SELECT NULL TABLESPACE_NAME, NULL OWNER, NULL SEGMENT_NAME, NULL SEGMENT_TYPE FROM DUAL WHERE 1 = 0
) UNION ALL ( SELECT * FROM (
WITH BASIS_INFO AS
( SELECT
    'SAP%' OWNER,
    '%' SEGMENT_NAME,
    '%' SEGMENT_TYPE,
    '%' TABLESPACE_NAME
  FROM
    DUAL
)
SELECT
  TS.TABLESPACE_NAME,
  S.OWNER,
  S.SEGMENT_NAME,
  S.SEGMENT_TYPE
FROM
  BASIS_INFO BI,
  DBA_TABLESPACES TS,
  DBA_SEGMENTS S
WHERE
  S.OWNER LIKE BI.OWNER AND
  S.SEGMENT_NAME LIKE BI.SEGMENT_NAME AND
  S.SEGMENT_TYPE LIKE BI.SEGMENT_TYPE AND
  TS.TABLESPACE_NAME LIKE BI.TABLESPACE_NAME AND
  S.TABLESPACE_NAME = TS.TABLESPACE_NAME AND
  TS.ENCRYPTED = 'YES'
ORDER BY
  TABLESPACE_NAME,
  OWNER,
  SEGMENT_NAME
));
