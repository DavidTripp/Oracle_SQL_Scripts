SELECT NULL SQL_ID, NULL OBJECT_NAME, NULL ASH_SECONDS FROM DUAL WHERE 1 = 0
UNION ALL (
SELECT NULL SQL_ID, NULL OBJECT_NAME, NULL ASH_SAMPLES FROM DUAL WHERE 1 = 0
) UNION ALL ( SELECT * FROM (
WITH LOB_CURSORS AS
( SELECT DISTINCT
    SQL_ID,
    TO_NUMBER(REGEXP_REPLACE(SQL_TEXT, 'table_4_[^_]+_([^_]+)_.*', '\1', 1, 1, 'i'), 'xxxxxxx') OBJECT_ID
  FROM
    V$OPEN_CURSOR 
  WHERE
    SQL_TEXT LIKE 'table_4_%'            /* BLOB */
  UNION ALL
  ( SELECT DISTINCT
      SQL_ID,
      TO_NUMBER(REGEXP_REPLACE(SQL_TEXT, 'table_e_[^_]+_([^_]+)_.*', '\1', 1, 1, 'i'), 'xxxxxxx') OBJECT_ID
    FROM
      V$OPEN_CURSOR 
    WHERE
      SQL_TEXT LIKE 'table_e_%'          /* CLOB */
  )
),
LOB_CURSOR_OBJECTS AS
( SELECT
    LC.SQL_ID SQL_ID,
    O.OBJECT_NAME OBJECT_NAME
  FROM
    LOB_CURSORS LC,
    DBA_OBJECTS O
  WHERE
    LC.OBJECT_ID = O.OBJECT_ID (+)
)
SELECT
  LCO.SQL_ID SQL_ID,
  LCO.OBJECT_NAME OBJECT_NAME,
  TO_CHAR(COUNT(*) * 10, 9999999990) SECONDS
FROM
  LOB_CURSOR_OBJECTS LCO,
  DBA_HIST_ACTIVE_SESS_HISTORY ASH
WHERE
  LCO.SQL_ID = ASH.SQL_ID
GROUP BY
  LCO.SQL_ID,
  LCO.OBJECT_NAME
ORDER BY 
  COUNT(*) DESC
));
