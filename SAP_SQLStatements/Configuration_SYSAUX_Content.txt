SELECT NULL SCHEMA, NULL AREA, NULL SIZE_MB, NULL "SIZE_%" FROM DUAL WHERE 1 = 0
UNION ALL (
SELECT NULL SCHEMA, NULL AREA, NULL SIZE_MB, NULL "SIZE_%" FROM DUAL WHERE 1 = 0
) UNION ALL ( SELECT * FROM (
WITH BASIS_INFO AS
( SELECT
    10 NUM_RECORDS
  FROM
    DUAL
)
SELECT
  SCHEMA_NAME SCHEMA,
  OCCUPANT_DESC AREA,
  TO_CHAR(SPACE_USAGE_KBYTES / 1024, 999990.99) SIZE_MB,
  TO_CHAR(RATIO_TO_REPORT(SPACE_USAGE_KBYTES) OVER () * 100, 990.99) "SIZE_%"
FROM
( SELECT
    SO.SCHEMA_NAME,
    SO.OCCUPANT_DESC,
    SO.SPACE_USAGE_KBYTES,
    BI.NUM_RECORDS
  FROM
    BASIS_INFO BI,
    V$SYSAUX_OCCUPANTS SO
  ORDER BY
    SPACE_USAGE_KBYTES DESC
)
WHERE 
  ( NUM_RECORDS = -1 OR ROWNUM <= NUM_RECORDS )
));

