WITH
	/*+
		SET PAGESIZE 2000
		SET LINESIZE 2000
		COL REMARK FOR A20
		COL SQL_TEXT FOR A64
	*/
	FUNCTION SQLTEXT_EXPAND(INPUT CLOB) RETURN CLOB IS
		OUTPUT CLOB;
	BEGIN
		DBMS_UTILITY.EXPAND_SQL_TEXT 
			(	INPUT, 
				OUTPUT);
	RETURN OUTPUT;
	END;
BASIS_INFO AS
(
SELECT
	'select name, value from v$parameter2'	SQL_TEXT
FROM
DUAL
)
SELECT * FROM 
(
SELECT 
	DECODE(VCNT.CNT,1,'Original Text','') REMARK,
	DBMS_LOB.SUBSTR(bi.sql_text,64,(VCNT.CNT-1)*64+1) SQL_TEXT
FROM
	BASIS_INFO BI,
	(SELECT LEVEL CNT FROM DUAL CONNECT BY LEVEL <= 100) VCNT
WHERE
	DBMS_LOB.SUBSTR(bi.sql_text,64,(VCNT.CNT-1)*64+1) IS NOT NULL
ORDER BY VCNT.CNT
)
UNION ALL
SELECT * FROM 
(
SELECT 
	DECODE(VCNT.CNT,1,'Expanded Text','') REMARK,
	DBMS_LOB.SUBSTR(SQLOUTTEXT.OUTTEXT,64,(VCNT.CNT-1)*64+1) SQL_TEXT
FROM
	(SELECT 
		SQLTEXT_EXPAND(bi.sql_text) OUTTEXT 
	FROM 
		BASIS_INFO BI) SQLOUTTEXT,
	(SELECT LEVEL CNT FROM DUAL CONNECT BY LEVEL <= 100) VCNT
WHERE
	DBMS_LOB.SUBSTR(SQLOUTTEXT.OUTTEXT,64,(VCNT.CNT-1)*64+1) IS NOT NULL
ORDER BY VCNT.CNT
)
	
	
	
	