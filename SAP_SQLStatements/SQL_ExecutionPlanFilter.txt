SELECT NULL INST, NULL SQL_ID, NULL MODULE, NULL OPERATION, NULL OPTIONS, 
  NULL OBJECT_NAME, NULL ACCESS_PREDICATES FROM DUAL WHERE 1 = 0
UNION ALL (
SELECT NULL INST, NULL SQL_ID, NULL MODULE, NULL OPERATION, NULL OPTIONS, 
  NULL OBJECT_NAME, NULL ACCESS_PREDICATES FROM DUAL WHERE 1 = 0
) UNION ALL ( SELECT * FROM (
WITH BASIS_INFO AS
( SELECT /*+ MATERIALIZE */
    DECODE(DBID, -1, OWN_DBID, DBID) DBID,
    DECODE(INSTANCE_NUMBER, -1, USERENV('INSTANCE'), INSTANCE_NUMBER) INSTANCE_NUMBER,
    OPERATION,
    OPTIONS,
    OBJECT_NAME,
    ORDER_BY
  FROM
  ( SELECT
      -1 DBID,
      -1 INSTANCE_NUMBER,          /* -1 for own instance, -2 for all instances */
      '%' OPERATION,
      '%' OPTIONS,
      'DFKKOP~Z0%' OBJECT_NAME,
      'OBJECT_NAME' ORDER_BY         /* SQL_ID, OPERATION, OBJECT_NAME */
    FROM
      DUAL
  ),
  ( SELECT DBID OWN_DBID FROM V$DATABASE )
)
SELECT
  SP.INST_ID INST,
  SP.SQL_ID,
  S.MODULE,
  SP.OPERATION,
  SP.OPTIONS,
  SP.OBJECT_NAME,
  SP.ACCESS_PREDICATES
FROM
  BASIS_INFO BI,
  GV$SQL_PLAN SP,
  GV$SQL S
WHERE
  ( BI.INSTANCE_NUMBER = -2 OR
    SP.INST_ID = BI.INSTANCE_NUMBER ) AND
  ( BI.OPERATION = '%' OR
    SP.OPERATION LIKE BI.OPERATION ) AND
  ( BI.OPTIONS = '%' OR
    SP.OPTIONS LIKE BI.OPTIONS ) AND
  ( BI.OBJECT_NAME = '%' OR
    SP.OBJECT_NAME LIKE BI.OBJECT_NAME ) AND
  SP.SQL_ID = S.SQL_ID AND
  SP.CHILD_NUMBER = S.CHILD_NUMBER
ORDER BY
  DECODE(BI.ORDER_BY,
    'SQL_ID', SQL_ID || OPERATION || OPTIONS || OBJECT_NAME,
    'OPERATION', OPERATION || OPTIONS || OBJECT_NAME || SQL_ID,
    'OBJECT_NAME', OBJECT_NAME || OPERATION || OPTIONS || SQL_ID)
));
  