SELECT INST_ID, COUNT(*) SESSNUM, SERVICE_NAME, FAILOVER_TYPE, FAILOVER_METHOD, FAILED_OVER
FROM GV$SESSION
WHERE SERVICE_NAME <> 'SYS$BACKGROUND' AND SERVICE_NAME <> 'SYS$USERS' AND PROGRAM NOT LIKE 'oracle%'
GROUP BY INST_ID, SERVICE_NAME, FAILOVER_TYPE, FAILOVER_METHOD, FAILED_OVER
ORDER BY INST_ID, SERVICE_NAME